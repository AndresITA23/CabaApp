{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\crist\\\\OneDrive\\\\Documentos\\\\GitHub\\\\CabaApp\\\\src\\\\screens\\\\AddPlace\\\\MapForm.tsx\",\n  _this = this;\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { View, Button, Center, ButtonText, Modal, ModalBackdrop, ModalContent, ModalBody } from \"@gluestack-ui/themed\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as Location from \"expo-location\";\nimport Toast from \"react-native-toast-message\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar styles = StyleSheet.create({\n  mapStyle: {\n    width: \"100%\",\n    height: 400,\n    flex: 1\n  }\n});\nvar MapForm = function MapForm(props) {\n  var show = props.show,\n    close = props.close,\n    formik = props.formik;\n  var ref = useRef(null);\n  var _useState = useState({\n      latitude: 0.001,\n      longitude: 0.001,\n      latitudeDelta: 0.001,\n      longitudeDelta: 0.001\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== \"granted\") {\n        Toast.show({\n          type: \"info\",\n          position: \"bottom\",\n          text1: \"You have to activate your location\"\n        });\n        return;\n      }\n      var locationTemp = yield Location.getCurrentPositionAsync({});\n      setLocation({\n        latitude: locationTemp.coords.latitude,\n        longitude: locationTemp.coords.longitude,\n        latitudeDelta: 0.001,\n        longitudeDelta: 0.001\n      });\n    })();\n  }, []);\n  var saveLocation = function saveLocation() {\n    console.log(location);\n    formik.setFieldValue(\"location\", location);\n    close();\n  };\n  return _jsxDEV(Center, {\n    h: 300,\n    children: _jsxDEV(Modal, {\n      isOpen: show,\n      onClose: close,\n      finalFocusRef: ref,\n      children: [_jsxDEV(ModalBackdrop, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, _this), _jsxDEV(ModalContent, {\n        children: [_jsxDEV(ModalBody, {\n          children: _jsxDEV(View, {\n            children: _jsxDEV(MapView, {\n              initialRegion: location,\n              showsUserLocation: true,\n              style: styles.mapStyle,\n              onRegionChange: function onRegionChange(locationTemp) {\n                return setLocation(locationTemp);\n              },\n              children: _jsxDEV(Marker, {\n                draggable: true,\n                coordinate: location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, _this), _jsxDEV(View, {\n          alignItems: \"center\",\n          marginTop: \"$2\",\n          marginBottom: \"$2\",\n          children: _jsxDEV(Button, {\n            w: \"$1/2\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            px: \"$0\",\n            p: 10,\n            onPress: saveLocation,\n            children: _jsxDEV(ButtonText, {\n              fontSize: \"$lg\",\n              marginLeft: \"$4\",\n              fontWeight: \"$normal\",\n              color: \"black\",\n              children: \"Save location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, _this);\n};\nexport default MapForm;","map":{"version":3,"names":["React","useEffect","useState","useRef","View","Button","Center","ButtonText","Modal","ModalBackdrop","ModalContent","ModalBody","StyleSheet","Location","Toast","MapView","Marker","jsxDEV","_jsxDEV","styles","create","mapStyle","width","height","flex","MapForm","props","show","close","formik","ref","_useState","latitude","longitude","latitudeDelta","longitudeDelta","_useState2","_slicedToArray","location","setLocation","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","type","position","text1","locationTemp","getCurrentPositionAsync","coords","saveLocation","console","log","setFieldValue","h","children","isOpen","onClose","finalFocusRef","fileName","_jsxFileName","lineNumber","columnNumber","_this","initialRegion","showsUserLocation","style","onRegionChange","draggable","coordinate","alignItems","marginTop","marginBottom","w","flexDirection","px","p","onPress","fontSize","marginLeft","fontWeight","color"],"sources":["C:/Users/crist/OneDrive/Documentos/GitHub/CabaApp/src/screens/AddPlace/MapForm.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  Text,\r\n  View,\r\n  Button,\r\n  Center,\r\n  ButtonText,\r\n  Modal,\r\n  ModalBackdrop,\r\n  ModalContent,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  Heading,\r\n  Icon,\r\n  CloseIcon,\r\n  ModalFooter,\r\n} from \"@gluestack-ui/themed\";\r\nimport { StyleSheet } from \"react-native\";\r\nimport * as Location from \"expo-location\";\r\nimport Toast from \"react-native-toast-message\";\r\nimport MapView, { Marker } from \"react-native-maps\";\r\n\r\nconst styles = StyleSheet.create({\r\n  mapStyle: {\r\n    width: \"100%\",\r\n    height: 400,\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst MapForm = (props) => {\r\n  const {show,close, formik} = props;\r\n  const ref = useRef(null);\r\n\r\n  const [location, setLocation] = useState({\r\n    latitude: 0.001,\r\n    longitude: 0.001,\r\n    latitudeDelta: 0.001,\r\n    longitudeDelta: 0.001,\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { status } = await Location.requestForegroundPermissionsAsync();\r\n\r\n      if (status !== \"granted\") {\r\n        Toast.show({\r\n          type: \"info\",\r\n          position: \"bottom\",\r\n          text1: \"You have to activate your location\",\r\n        });\r\n        return;\r\n      }\r\n      const locationTemp = await Location.getCurrentPositionAsync({});\r\n\r\n      setLocation({\r\n        latitude: locationTemp.coords.latitude,\r\n        longitude: locationTemp.coords.longitude,\r\n        latitudeDelta: 0.001,\r\n        longitudeDelta: 0.001,\r\n      });\r\n    })();\r\n  }, []);\r\n\r\n  const saveLocation = () => {\r\n    console.log(location);\r\n    formik.setFieldValue(\"location\", location)\r\n    close();\r\n  };\r\n\r\n  return (\r\n    <Center h={300}>\r\n      <Modal isOpen={show} onClose={close} finalFocusRef={ref}>\r\n        <ModalBackdrop />\r\n        <ModalContent>\r\n          <ModalBody>\r\n            <View>\r\n              <MapView\r\n                initialRegion={location}\r\n                showsUserLocation={true}\r\n                style={styles.mapStyle}\r\n                onRegionChange={(locationTemp) => setLocation(locationTemp)}\r\n              >\r\n                <Marker draggable coordinate={location}></Marker>\r\n              </MapView>\r\n            </View>\r\n          </ModalBody>\r\n          <View alignItems=\"center\" marginTop={\"$2\"} marginBottom={\"$2\"}>\r\n            <Button\r\n              w={\"$1/2\"}\r\n              flexDirection=\"row\"\r\n              alignItems=\"center\"\r\n              px={\"$0\"}\r\n              p={10}\r\n              onPress={saveLocation}\r\n            >\r\n              <ButtonText\r\n                fontSize={\"$lg\"}\r\n                marginLeft={\"$4\"}\r\n                fontWeight=\"$normal\"\r\n                color=\"black\"\r\n              >\r\n                Save location\r\n              </ButtonText>\r\n            </Button>\r\n          </View>\r\n        </ModalContent>\r\n      </Modal>\r\n    </Center>\r\n  );\r\n};\r\n\r\nexport default MapForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}